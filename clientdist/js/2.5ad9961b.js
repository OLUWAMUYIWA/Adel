(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"63b9":function(e,t,s){},a67d:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-pa-md  q-gutter-md"},[s("q-form",{staticClass:"q-gutter-lg absolute-center",staticStyle:{"max-width":"400px"},on:{submit:e.onSubmit,reset:e.onReset}},[s("q-input",{attrs:{filled:"",type:"email",label:"email",hint:"e.g. yourmail@gmail.com","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in your email"}]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("q-input",{attrs:{filled:"",type:e.isPwd?"password":"text",hint:"Input your password","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in your email"}]},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("div",[s("div",{staticClass:"row flex flex-center text-center q-pb-xl q-mt-md"},[s("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12"},[s("q-btn",{attrs:{"no-caps":"",label:"Submit",type:"submit",color:"primary",flat:""},on:{click:e.handleLogin}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",label:"Reset",type:"reset",color:"primary",flat:""}})],1)])])],1)],1)])},i=[];s("4360");var r=s("d017"),a={name:"LoginForm",data(){return{user:{email:"",password:""},isPwd:!0,accept:!1,message:"",color:""}},methods:{gouser(){this.$router.push("/register_user")},gocontributor(){this.$router.push("/register_contributor")},onSubmit(){this.handleLogin()},notif(e,t){this.$q.notify({color:e,textColor:"white",icon:"cloud_done",message:t})},onReset(){this.user.name=null,this.user.age=null,this.accept=!1},handleLogin:function(){this.user.email&&this.user.password?(console.log("entered request"),this.$store.dispatch(`newauth/${r["c"]}`,this.user).then((()=>{this.notif("primary","Logged in successfully");let e=JSON.parse(localStorage.getItem("user"));if(e){if("boss"===e.role){const e="/boss/";this.$route.path!==e&&this.$router.push({path:"/boss/"})}else if("senior"===e.role){let e="/contributor/";this.$route.path!==e&&this.$router.push(e)}else if("junior"===e.role){const e="/user/search";this.$route.path!==e&&this.$router.push({path:"/user/search"})}}else this.$q.notify({message:"Problem occured during login, please try",color:"secondary"}),"/login"!==this.$route&&this.$router.push({path:"/login"})})).catch((e=>{this.$q.notify({message:"Access denied. You have no account with us",color:"secondary"}),this.$router.push({path:"/"})}))):this.notif("secondary","Fill in all fields")}}},n=a,l=(s("eaca"),s("2877")),u=s("9989"),c=s("9c40"),p=s("0378"),h=s("27f9"),d=s("0016"),m=s("eebe"),f=s.n(m),g=Object(l["a"])(n,o,i,!1,null,"8905d1e8",null);t["default"]=g.exports;f()(g,"components",{QPage:u["a"],QBtn:c["a"],QForm:p["a"],QInput:h["a"],QIcon:d["a"]})},eaca:function(e,t,s){"use strict";s("63b9")}}]);