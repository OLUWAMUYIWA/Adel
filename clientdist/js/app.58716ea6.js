(function(e){function t(t){for(var n,r,i=t[0],l=t[1],c=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={1:0},o={1:0},s=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{2:"5ad9961b",3:"ef3baf9d",4:"a2b0128c"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={2:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{2:"8f959925",3:"31d6cfe0",4:"31d6cfe0"}[e]+".css",o=l.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===n||u===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[e],p.parentNode.removeChild(p),a(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;s.push([0,0]),a()})({0:function(e,t,a){e.exports=a("2f39")},"1c9d":function(e,t,a){"use strict";a("b973")},"2f39":function(e,t,a){"use strict";a.r(t);a("e6cf"),a("5319"),a("7d6e"),a("e54f"),a("985d"),a("31cd");var n=a("2b0e"),r=a("1f91"),o=a("42d2"),s=a("b05d"),i=a("2a19");n["a"].use(s["a"],{config:{},lang:r["a"],iconSet:o["a"],plugins:{Notify:i["a"]}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},c=[],u={name:"App"},d=u,p=a("2877"),m=Object(p["a"])(d,l,c,!1,null,null,null),b=m.exports,h=a("4360"),f=a("8c4f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("section",[a("div",{staticClass:" main full-height full-width flex flex-center text-center",staticStyle:{"background-color":"rgba(0, 0, 0, 0.68) !important","z-index":"0",height:"100vh !important"}},[a("div",{},[a("div",{staticClass:"text-h6 text-grey-5"},[e._v("Welcome to")]),a("div",{staticClass:"text-h2 text-white q-py-sm q-my-md",staticStyle:{"border-top":"3px solid #1595de","border-bottom":"3px solid #2faa64"}},[e._v("drustores.ng\n        ")]),a("div",{staticClass:"text-h6",staticStyle:{color:"#f4b825"}},[e._v("\n          Search | Contribute\n        ")])])])]),a("q-space"),a("div",[a("div",{staticClass:"col-md-12 col-md-12 col-xs-12 col-sm-12 q-mb-xl flex flex-center"},[a("q-card",{staticClass:"q-pa-md q-py-xl q-my-xl q-ma-md my-card",attrs:{"background-color":"#eb4f71"}},[a("q-card-section",{staticClass:"text-center"},[a("div",{staticClass:"text-h6"},[e._v("What we offer you")]),a("div",{staticClass:"text-subtitle2"})]),a("q-tabs",{staticClass:"text-teal text-center",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{label:"Search",name:"one"}}),a("q-tab",{attrs:{label:"Contribute",name:"two"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{staticClass:"text-center",attrs:{name:"one"}},[e._v("\n        Seach our massive and regurlarly updated database for drugs that are available in stores all over Nigeria. \n        You will most likely find any drug you're looking fore here "),a("br"),a("q-btn",{staticClass:"q-mt-md",attrs:{outline:"",rounded:"","no-caps":"",to:"/register_user",color:"teal",label:"Register as a User"}})],1),a("q-tab-panel",{staticClass:"text-center",attrs:{name:"two"}},[e._v("\n        Register with us and contribute to this repository of drugs. You are the one who reaps all the \n        benefits as drugs in your store become more accessible to buyers. Contribute today.\n\n         "),a("q-btn",{staticClass:"q-mt-md",attrs:{outline:"","no-caps":"",rounded:"",to:"/register_contributor",color:"teal",label:"Register as a Contributor"}})],1)],1)],1)],1)])],1)},y=[],v={name:"PageIndex",data(){return{tab:"one"}}},q=v,_=(a("1c9d"),a("9989")),w=a("2c91"),x=a("f09f"),k=a("a370"),C=a("429b"),S=a("7460"),$=a("eb85"),I=a("adad"),Q=a("823b"),P=a("9c40"),O=a("eebe"),N=a.n(O),T=Object(p["a"])(q,g,y,!1,null,"e480c730",null),U=T.exports;N()(T,"components",{QPage:_["a"],QSpace:w["a"],QCard:x["a"],QCardSection:k["a"],QTabs:C["a"],QTab:S["a"],QSeparator:$["a"],QTabPanels:I["a"],QTabPanel:Q["a"],QBtn:P["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:" q-pa-mdq-ma-md"},[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("q-input",{attrs:{filled:"",label:"Full name",hint:"Firstname and Lastname","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please fill in your name"}]},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{filled:"",type:"tel",label:"Phone","lazy-rules":"",hint:"e.g. 0801.......",rules:[function(e){return e&&11==e.length||"Please put in an eleven-digit number"}]},model:{value:e.user.phone_no,callback:function(t){e.$set(e.user,"phone_no",t)},expression:"user.phone_no"}}),a("q-input",{attrs:{filled:"",label:"Address",hint:"Your local address","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in a value here"}]},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}}),a("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Your personal email","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in your email"}]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-input",{attrs:{filled:"",type:e.isPwd?"password":"text",hint:"Choose something truly secret"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Passwords are compulsory"}]},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("q-input",{attrs:{filled:"",label:"Company name",hint:"Name of the company you represent","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in a value here"}]},model:{value:e.user.company_name,callback:function(t){e.$set(e.user,"company_name",t)},expression:"user.company_name"}}),a("q-input",{attrs:{filled:"",label:"Practice Area",hint:"Your parctice area"},model:{value:e.user.practice_area,callback:function(t){e.$set(e.user,"practice_area",t)},expression:"user.practice_area"}}),a("div",[a("div",{staticClass:"row flex flex-center text-center q-pb-xl q-mt-md"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12"},[a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",label:"Submit",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",rounded:"",label:"Clear",type:"reset",color:"primary",flat:""}})],1)])])],1)],1)},j=[];var M=a("6d46");class L{login(e){return M["b"].post("api/no_auth/login",{email:e.email,password:e.password}).then((t=>(t.data.accessToken&&(localStorage.setItem("user",t.data),console.log(e)),t.data)))}logout(){localStorage.removeItem("user")}registerJun(e){return M["b"].post("api/no_auth/regJunior",{name:e.name,email:e.email,password:e.password,address:e.address,verified:!1,practice_area:e.practice_area,role:"junior",company_name:e.company_name})}registerSen(e){return M["b"].post("api/no_auth/regSenior",{name:e.name,email:e.email,password:e.password,address:e.address,verified:!1,practice_area:e.practice_area,role:"senior",company_name:e.company_name,superintendentPharmName:e.superintendentPharmName,superintendentPharmRegNo:e.superintendentPharmRegNo,superintendentPharmLicenceNo:e.superintendentPharmLicenceNo})}}var A=a("bc3a"),E=a.n(A),R={name:"UserRegForm",data(){return{isPwd:!0,accept:!1,message:"",user:{name:"",phone_no:"",email:"",address:"",company_name:"",password:"",practice_area:""}}},methods:{onSubmit(){let e=new L;console.log(this.user),e.registerJun(this.user).then((e=>{this.message=e.data,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted, Await verification."})})).catch((e=>{401==e.response.status?this.$q.notify({color:"red-4",textColor:"white",icon:"not_accessible",message:"You have registered before"}):this.$q.notify({color:"red-4",textColor:"white",icon:"mood_bad",message:"Problem occured, check your connection"})})),this.$router.push("/")},onReset(){this.name=null,this.age=null,this.accept=!1}}},J=R,B=a("0378"),z=a("27f9"),F=a("0016"),H=Object(p["a"])(J,D,j,!1,null,null,null),Y=H.exports;N()(H,"components",{QPage:_["a"],QForm:B["a"],QInput:z["a"],QIcon:F["a"],QBtn:P["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-md q-ma-md",attrs:{padding:""}},[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("q-input",{attrs:{filled:"",label:"Full name",hint:"Firstname and Lastname","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please fill in your name"}]},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),a("q-input",{attrs:{filled:"",type:"tel",label:"Phone","lazy-rules":"",hint:"e.g. 0801.......",rules:[function(e){return e&&11==e.length||"Please put in an eleven-digit number"}]},model:{value:e.user.phone_no,callback:function(t){e.$set(e.user,"phone_no",t)},expression:"user.phone_no"}}),a("q-input",{attrs:{filled:"",label:"Address",hint:"Your local address","lazy-rules":"",rules:[function(e){return e&&e.length>9||"Please put in a value here"}]},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}}),a("q-input",{attrs:{filled:"",type:"email",label:"Email",hint:"Your personal email","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in your email"}]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("q-input",{attrs:{filled:"",type:e.isPwd?"password":"text",hint:"Choose something truly secret"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Passwords are compulsory"}]},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("q-input",{attrs:{filled:"",label:"Company name",hint:"Name of the company you represent","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please put in a value here"}]},model:{value:e.user.company_name,callback:function(t){e.$set(e.user,"company_name",t)},expression:"user.company_name"}}),a("q-input",{attrs:{filled:"",label:"Practice Area",hint:"Your parctice area"},model:{value:e.user.practice_area,callback:function(t){e.$set(e.user,"practice_area",t)},expression:"user.practice_area"}}),a("q-input",{attrs:{filled:"",label:"Superintendent Pharm. Name ",hint:"Firstname and surname",autogrow:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"This field is compulsory"}]},model:{value:e.user.superintendentPharmName,callback:function(t){e.$set(e.user,"superintendentPharmName",t)},expression:"user.superintendentPharmName"}}),a("q-input",{attrs:{filled:"",label:"Superintendent Pharm. Reg. No. ",autogrow:"","lazy-rules":"",rules:[function(e){return e&&e.length>0||"This field is compulsory"}]},model:{value:e.user.superintendentPharmRegNo,callback:function(t){e.$set(e.user,"superintendentPharmRegNo",t)},expression:"user.superintendentPharmRegNo"}}),a("q-input",{attrs:{filled:"",label:"Superintendent Pharm. Licence No. ",autogrow:""},model:{value:e.user.superintendentPharmLicenceNo,callback:function(t){e.$set(e.user,"superintendentPharmLicenceNo",t)},expression:"user.superintendentPharmLicenceNo"}}),a("div",[a("div",{staticClass:"row flex flex-center text-center q-pb-xl q-mt-md"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12"},[a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",label:"Submit",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",flat:"",rounded:"",label:"Clear",type:"reset",color:"primary"}})],1)])])],1)],1)},W=[];var G={name:"SeniorRegForm",data(){return{user:{name:"",phone_no:"",email:"",address:"",company_name:"",practice_area:"",superintendentPharmName:"",superintendentPharmRegNo:"",superintendentPharmLicenceNo:""},isPwd:!0,message:""}},methods:{onSubmit(){this.handleRegister()},onReset(){this.name=null,this.age=null,this.accept=!1},handleRegister(){this.message="",this.submitted=!0;let e=new L;e.registerSen(this.user).then((e=>{this.message=e.data,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted, Await verification."})})).catch((e=>{401===e.response.status?this.$q.notify({color:"red-4",textColor:"white",icon:"not_accessible",message:"You have registered before"}):this.$q.notify({color:"red-4",textColor:"white",icon:"mood_bad",message:"Problem occured, check your connection"})})),this.$router.push("/")}}},K=G,X=Object(p["a"])(K,V,W,!1,null,null,null),Z=X.exports;N()(X,"components",{QPage:_["a"],QForm:B["a"],QInput:z["a"],QIcon:F["a"],QBtn:P["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-gutter-y-md column absolute-center",staticStyle:{"min-width":"400px"}},[a("q-input",{attrs:{rounded:"",filled:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",color:"primary",label:"Search"},on:{click:e.submit}})],1)])},te=[],ae={name:"Search",data(){return{query:""}},methods:{submit(){0!==this.query.length?this.$router.push(`/user/search/${this.query}`):this.$q.notify({message:"Your search query is empty",color:"primary"})}}},ne=ae,re=Object(p["a"])(ne,ee,te,!1,null,null,null),oe=re.exports;N()(re,"components",{QPage:_["a"],QInput:z["a"],QIcon:F["a"],QBtn:P["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md column",staticStyle:{"max-width":"200px"}},[a("q-input",{attrs:{rounded:"",filled:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchDrug(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",color:"primary",label:"Search"},on:{click:e.searchDrug}})],1),a("div"),a("q-separator"),e.data?a("q-list",{attrs:{bordered:"",padding:""}},e._l(e.data,(function(t){return a("q-item",{key:t.id},[a("q-item-section",[a("q-item-label",{staticClass:"text-capitalize"},[e._v("\n           "+e._s(t.name)+"\n         ")]),a("q-item-label",{attrs:{caption:""}},[e._v("\n            "+e._s(t.description)+" \n          ")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-badge",{attrs:{color:"teal",label:t.exp}})],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{caption:""}},[a("q-btn",{attrs:{"no-caps":"",flat:"",label:"More details",color:"primary"},on:{click:function(a){return e.showModalMethod({name:t.name,location:t.location,brand:t.brand,description:t.description,exp:t.exp,quantity_available:t.quantity_available,price:t.price,phone:t.cphone,company_name:t.company_name})}}})],1)],1)],1)})),1):e._e(),e.showModal?a("dcard",{attrs:{modal:e.showModal,passedObject:e.objectToPass},on:{"update:modal":function(t){e.showModal=t}}}):e._e()],1)},ie=[];function le(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:`access_token ${e.accessToken}`,Accept:"application/json","Content-Type":"application/json"}:{}}class ce{constructor(e){this.query=e}searchDrug(){return M["b"].get(`api/search/${this.query}`,{headers:le()})}}var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("q-card",[e.passedObject.product_image?a("q-img",{attrs:{src:"passedObject.product_image"}}):a("q-img",{attrs:{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"}}),a("q-card-section",[a("q-btn",{staticClass:"absolute",staticStyle:{top:"0",right:"12px",transform:"translateY(-50%)"},attrs:{fab:"",color:"primary",icon:"local_pharmacy","no-caps":""}}),a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h6 ellipsis"},[e._v("\n            "+e._s(e.passedObject.name)+"\n          ")]),a("div",{staticClass:"col-auto text-grey text-caption q-pt-md row no-wrap items-center"},[a("q-icon",{attrs:{name:"place"}}),e._v("\n            "+e._s(e.passedObject.location)+"\n          ")],1)])],1),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-subtitle1"},[e._v("\n          "+e._s(e.passedObject.brand)+"\n        ")]),a("div",{staticClass:"text-caption text-grey"},[e._v("\n          "+e._s(e.passedObject.description)+"\n        ")]),a("div",{staticClass:"text-caption text-grey"},[a("p",[e._v(" Expires in "+e._s(e.passedObject.exp)+" months ")])])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-subtitle2 text-grey"},[a("p",[e._v(" In stock:  "+e._s(e.passedObject.quantity_available)+" ")])]),a("div",{staticClass:"text-subtitle2 text-grey"},[a("q-icon",{attrs:{name:"local_offer"}}),e._v("\n              "+e._s(e.passedObject.price)+"\n          ")],1),a("div",{staticClass:"text-subtitle2 text-grey"},[a("q-icon",{attrs:{name:"local_hospital"}}),e._v("\n              "+e._s(e.passedObject.company_name)+"\n          ")],1),a("div",{staticClass:"text-subtitle2 text-grey"},[a("q-icon",{attrs:{name:"call"}}),e._v("\n              "+e._s(e.passedObject.phone)+"\n          ")],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"primary",label:"Close","no-caps":""},on:{click:e.closeModal}})],1)],1)],1)],1)},de=[],pe={props:{modal:{default:!1},passedObject:{type:Object}},data(){return{}},methods:{closeModal(){this.$emit("update:modal",!this.modal)}}},me=pe,be=a("24e8"),he=a("068f"),fe=a("4b7e"),ge=a("7f67"),ye=Object(p["a"])(me,ue,de,!1,null,null,null),ve=ye.exports;N()(ye,"components",{QDialog:be["a"],QCard:x["a"],QImg:he["a"],QCardSection:k["a"],QBtn:P["a"],QIcon:F["a"],QSeparator:$["a"],QCardActions:fe["a"]}),N()(ye,"directives",{ClosePopup:ge["a"]});var qe={name:"SearchResultsHome",components:{dcard:ve},data(){return{query:"",data:[],showModal:!1,objectToPass:null}},mounted(){this.getDrugs()},methods:{showModalMethod(e){console.log("here"),this.showModal=!0,this.objectToPass=e},getDrugs:function(){let e=new ce(this.$route.params.query);e.searchDrug().then((e=>{this.data=e.data})),console.log(this.data)},searchDrug:function(){let e=new ce(this.query);this.$router.push(`/user/search/${this.query}`),e.searchDrug().then((e=>{this.data=e.data,console.log(this.data)})).catch((e=>{this.$q.notify({message:"No results"})}))}}},_e=qe,we=a("1c1c"),xe=a("66e5"),ke=a("4074"),Ce=a("0170"),Se=a("58a8"),$e=Object(p["a"])(_e,se,ie,!1,null,null,null),Ie=$e.exports;N()($e,"components",{QInput:z["a"],QIcon:F["a"],QBtn:P["a"],QSeparator:$["a"],QList:we["a"],QItem:xe["a"],QItemSection:ke["a"],QItemLabel:Ce["a"],QBadge:Se["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),a("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[e._v("Welcome, "+e._s(e.myname))]),e.loggedIn?a("q-btn",{staticClass:"absolute-right",attrs:{flat:"",rounded:"","icon-right":"account_circle",label:"Logout","no-caps":""},on:{click:e.logout}}):a("q-btn",{staticClass:"absolute-right",attrs:{to:"/login",flat:"",rounded:"","icon-right":"account_circle",label:"Login","no-caps":""}})],1)],1),a("q-page-container",{staticClass:"bg-grey-1"},[a("router-view")],1),a("q-footer",[a("div",{staticClass:" col text-center q-mt-md"},[a("p",[e._v("Copywright © 2020 by Adel inc.")])])])],1)},Pe=[],Oe=a("d017"),Ne={data(){return{id:"",left:!1,query:""}},methods:{logout:function(){this.$router.push("/login"),this.$store.dispatch(`newauth/${Oe["b"]}`)}},computed:{loggedIn:function(){let e=JSON.parse(localStorage.getItem("user"));return null!==e},myname:function(){return JSON.parse(localStorage.getItem("user")).name}}},Te=Ne,Ue=a("4d5a"),De=a("e359"),je=a("65c6"),Me=a("6ac5"),Le=a("09e3"),Ae=a("7ff0"),Ee=Object(p["a"])(Te,Qe,Pe,!1,null,null,null),Re=Ee.exports;N()(Ee,"components",{QLayout:Ue["a"],QHeader:De["a"],QToolbar:je["a"],QBtn:P["a"],QToolbarTitle:Me["a"],QPageContainer:Le["a"],QFooter:Ae["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),a("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[e._v("Welcome, "+e._s(e.myname))]),e.loggedIn?a("q-btn",{staticClass:"absolute-right",attrs:{flat:"","icon-right":"account_circle",label:"Logout","no-caps":""},on:{click:e.logout}}):a("q-btn",{staticClass:"absolute-right",attrs:{to:"/login",flat:"","icon-right":"account_circle",label:"Login"}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",side:"left",elevated:"",bordered:"","content-class":"bg-primary",breakpoint:767,width:250},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[a("q-list",{attrs:{dark:""}},[a("q-item-label",{attrs:{header:""}},[e._v("Navigation")]),e._l(e.navs,(function(t,n){return a("q-item",{key:n,staticClass:"text-grey-4",attrs:{exact:"",clickable:"",to:t.to}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label))])],1)],1)}))],2)],1),a("q-page-container",{staticClass:"bg-grey-1"},[a("router-view")],1),a("q-footer",{staticStyle:{}},[a("q-tabs",e._l(e.navs,(function(e,t){return a("q-route-tab",{key:t,attrs:{"no-caps":"",exact:"",to:e.to,icon:e.icon,label:e.label}})})),1),a("div",{staticClass:"col text-center q-mt-md"},[a("p",[e._v("Copywright © 2020 by Adel inc.")])])],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-primary",breakpoint:767,width:250},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("q-list",{attrs:{dark:""}},[a("q-item-label",{attrs:{header:""}},[e._v("Navigation")]),e._l(e.navs,(function(t,n){return a("q-item",{key:n,staticClass:"text-grey-4",attrs:{exact:"",clickable:"",to:t.to}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label))])],1)],1)}))],2)],1)],1)},Be=[],ze={data(){return{id:"",cname:"",left:!1,leftDrawerOpen:this.$q.platform.is.desktop,copystyle:{"text-align":"center"},navs:[{label:"My Drugs",icon:"list",to:"/contributor"},{label:"Upload Many",icon:"backup",to:"/contributor/uploadManyDrugs"},{label:"Search",icon:"search",to:"/user/search"}]}},computed:{loggedIn:function(){let e=JSON.parse(localStorage.getItem("user"));return null!==e},myname:function(){return JSON.parse(localStorage.getItem("user")).name}},methods:{logout:function(){this.$store.dispatch(`newauth/${Oe["b"]}`).then((()=>{this.$router.push({name:"Login"})}))}}},Fe=ze,He=a("9404"),Ye=a("7867"),Ve=Object(p["a"])(Fe,Je,Be,!1,null,null,null),We=Ve.exports;N()(Ve,"components",{QLayout:Ue["a"],QHeader:De["a"],QToolbar:je["a"],QBtn:P["a"],QToolbarTitle:Me["a"],QDrawer:He["a"],QList:we["a"],QItemLabel:Ce["a"],QItem:xe["a"],QItemSection:ke["a"],QIcon:F["a"],QPageContainer:Le["a"],QFooter:Ae["a"],QTabs:C["a"],QRouteTab:Ye["a"]});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{title:"My Drugs",data:e.data,columns:e.columns,"row-key":"name","binary-state-sort":"","visible-columns":e.myCols},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n            "+e._s(t.row.id)+"\n            "),a("q-popup-edit",{model:{value:t.row.id,callback:function(a){e.$set(t.row,"id",a)},expression:"props.row.id"}},[a("q-input",{attrs:{dense:"",autofocus:"",counter:"",type:"text"},model:{value:t.row.id,callback:function(a){e.$set(t.row,"id",a)},expression:"props.row.id"}})],1)],1),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n            "+e._s(t.row.name)+"\n            "),a("q-popup-edit",{attrs:{title:"Update name",buttons:""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}})],1)],1),a("q-td",{key:"brand",attrs:{props:t}},[e._v("\n            "+e._s(t.row.brand)+"\n             "),a("q-popup-edit",{attrs:{title:"Update Brand",buttons:""},model:{value:t.row.brand,callback:function(a){e.$set(t.row,"brand",a)},expression:"props.row.brand"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.brand,callback:function(a){e.$set(t.row,"brand",a)},expression:"props.row.brand"}})],1)],1),a("q-td",{key:"price",attrs:{props:t}},[e._v("\n            "+e._s(t.row.price)+"\n            "),a("q-popup-edit",{attrs:{title:"Update Price",buttons:""},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"props.row.price"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"props.row.price"}})],1)],1),a("q-td",{key:"quantity_available",attrs:{props:t}},[e._v("\n            "+e._s(t.row.quantity_available)+"\n            "),a("q-popup-edit",{attrs:{title:"Update Quantity",buttons:""},model:{value:t.row.quantity_available,callback:function(a){e.$set(t.row,"quantity_available",a)},expression:"props.row.quantity_available"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.quantity_available,callback:function(a){e.$set(t.row,"quantity_available",a)},expression:"props.row.quantity_available"}})],1)],1),a("q-td",{key:"location",attrs:{props:t}},[e._v("\n            "+e._s(t.row.location)+"\n            "),a("q-popup-edit",{attrs:{title:"Update Location",buttons:""},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"props.row.location"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"props.row.location"}})],1)],1)],1)]}}])}),a("div",{staticClass:"row flex flex-center text-center q-pb-xl q-mt-md"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12"},[a("q-btn",{attrs:{"no-caps":"",outline:"",rounded:"",color:"primary",label:"Update Collection"},on:{click:e.updateMyDrugs}})],1)])],1)])},Ke=[];a("e01a");class Xe{constructor(e,t,a){this.id=e,this.company_name=t,this.company_phone=a}uploadDrug(e){return M["b"].post(`api/uploadDrug/${this.id}/ ${this.company_name}/${this.company_phone}`,{name:e.name,description:e.description,brand:e.brand,batcn_no:e.batcn_no,quantity_available:parseInt(e.quantity_available),price:parseInt(e.price),location:e.location,exp:e.exp},{headers:le()}).then((e=>e.data))}uploadManyDdrugs(e){return M["b"].post(`api/uploadManyDrugs/${this.id}/${this.company_name}/${this.company_phone}`,e,{headers:le()})}getMyDrugs(){return M["b"].get(`api/sendMyDrugs/${this.id}/${this.company_name}`,{headers:le()})}updateMyDrugs(e){return M["b"].put(`api/updateMyDrugs/${this.id}/${this.company_name}`,e,{headers:le()})}updateDrug(e){return M["b"].put(`api/updateDrug/${this.id}/${this.company_name}`,{name:e.name,description:e.description,brand:e.brand,batcn_no:e.batcn_no,quantity_available:parseInt(e.quantity_available),price:parseInt(e.price),location:e.location,exp:e.exp},{headers:le()})}deleteDrug(e){return M["b"].delete(`api/deleteDrug/${this.id}/${e}/${this.company_name}`,{headers:le()})}updateSenior(e){return M["b"].put(+`api/updateSenior/${this.id}/${this.company_name}`,{company_name:e.company_name,email:e.email,address:e.address,name:e.name,password:e.password,verified:!0,practice_area:e.practice_area,role:"senior",superintendentPharmName:e.superintendentPharmName,superintendentPharmRegNo:e.superintendentPharmRegNo,superintendentPharmLicenceNo:e.superintendentPharmLicenceNo},{headers:le()})}}var Ze={name:"MyDrugs",data(){return{myCols:["name","brand","price","quantity_available","location"],columns:[{name:"id",required:!1,label:"",align:"left",field:e=>e.id},{name:"name",align:"center",label:"Name",field:"name",sortable:!0,classes:"bg-grey-2 ellipsis",headerClasses:"bg-primary text-white"},{name:"brand",label:"Brand",field:"brand"},{name:"price",label:"Price (Naira)",field:"price",sortable:"true"},{name:"quantity_available",label:"Quantity Available",field:"quantity_available",sortable:!0},{name:"location",label:"Location",field:"location"}],data:[]}},created(){this.getMyDrugs()},methods:{getMyDrugs(){let e=JSON.parse(localStorage.getItem("user")).id,t=JSON.parse(localStorage.getItem("user")).company_name,a=new Xe(e,t);a.getMyDrugs().then((e=>{this.data=e.data,console.log(this.data)})).catch((e=>{400==e.status?this.$q.notify({message:"You are not authorized",color:"secondary",textColor:"white",icon:"not_accessible"}):this.$q.notify({message:"You have no drugs yet",color:"primary",textColor:"white"})}))},updateMyDrugs(){let e=JSON.parse(localStorage.getItem("user")).company_name,t=JSON.parse(localStorage.getItem("user")).id,a=new Xe(t,e);a.updateMyDrugs(this.data).then(this.$q.notify({message:"Drugs Added",color:"primary",textColor:"white",icon:"check_circle"})).catch((e=>{this.$d.notify({message:"Sorry, a problem occured while adding your drugs",color:"secondary",textColor:"white",icon:"sync_problem"})}))}}},et=Ze,tt=a("eaac"),at=a("bd08"),nt=a("db86"),rt=a("42a1"),ot=Object(p["a"])(et,Ge,Ke,!1,null,null,null),st=ot.exports;N()(ot,"components",{QPage:_["a"],QTable:tt["a"],QTr:at["a"],QTd:nt["a"],QPopupEdit:rt["a"],QInput:z["a"],QBtn:P["a"]});var it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"UploadManyDrugs"}},[a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-table",{attrs:{title:"Upload Drugs",data:e.data,columns:e.columns,"row-key":"name","binary-state-sort":"","no-data-label":"Start by adding the first row"},scopedSlots:e._u([{key:"top",fn:function(){return[a("q-btn",{attrs:{"no-caps":"",dense:"",color:"secondary",label:"Add Drug"},on:{click:function(t){e.show_dialog=!0}}}),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{model:{value:e.show_dialog,callback:function(t){e.show_dialog=t},expression:"show_dialog"}},[a("q-card",{staticClass:"bg-grey-4"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Add new drug")])]),a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-px-md q-ma-sm ",attrs:{label:"Name",type:"text"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}}),a("q-input",{staticClass:"q-px-md   q-ma-sm",attrs:{label:"Description",type:"textarea"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Months before expiry",type:"number"},model:{value:e.editedItem.exp,callback:function(t){e.$set(e.editedItem,"exp",t)},expression:"editedItem.exp"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Brand",type:"text"},model:{value:e.editedItem.brand,callback:function(t){e.$set(e.editedItem,"brand",t)},expression:"editedItem.brand"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Batch No",type:"text"},model:{value:e.editedItem.batch_no,callback:function(t){e.$set(e.editedItem,"batch_no",t)},expression:"editedItem.batch_no"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Quantity Available",type:"number"},model:{value:e.editedItem.quantity_available,callback:function(t){e.$set(e.editedItem,"quantity_available",t)},expression:"editedItem.quantity_available"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Price (₦)",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}}),a("q-input",{staticClass:"q-px-md  q-ma-sm",attrs:{label:"Location",type:"text"},model:{value:e.editedItem.location,callback:function(t){e.$set(e.editedItem,"location",t)},expression:"editedItem.location"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",flat:"",label:"OK",color:"primary"},on:{click:e.addRow}})],1)],1)],1)],1)]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"name",attrs:{props:t}},[e._v("\n              "+e._s(t.row.name)+"\n              "),a("q-popup-edit",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}})],1)],1),a("q-td",{key:"description",attrs:{props:t}},[e._v("\n              "+e._s(t.row.description)+"\n              "),a("q-popup-edit",{attrs:{title:"Update Description",buttons:""},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"props.row.description"}},[a("q-input",{attrs:{type:"text",autogrow:"",dense:"",autofocus:""},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"props.row.description"}})],1)],1),a("q-td",{key:"brand",attrs:{props:t}},[a("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.brand))]),a("q-popup-edit",{attrs:{title:"Update Brand"},model:{value:t.row.brand,callback:function(a){e.$set(t.row,"brand",a)},expression:"props.row.brand"}},[a("q-input",{attrs:{dense:"",autofocus:""},model:{value:t.row.brand,callback:function(a){e.$set(t.row,"brand",a)},expression:"props.row.brand"}})],1)],1),a("q-td",{key:"batch_no",attrs:{props:t}},[e._v("\n              "+e._s(t.row.batch_no)+"\n              "),a("q-popup-edit",{attrs:{title:"Update Batch No.",buttons:""},model:{value:t.row.batch_no,callback:function(a){e.$set(t.row,"batch_no",a)},expression:"props.row.batch_no"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.batch_no,callback:function(a){e.$set(t.row,"batch_no",a)},expression:"props.row.batch_no"}})],1)],1),a("q-td",{key:"exp",attrs:{props:t}},[e._v("\n              "+e._s(t.row.exp)+"\n              "),a("q-popup-edit",{attrs:{title:"Update Expiry month",buttons:""},model:{value:t.row.exp,callback:function(a){e.$set(t.row,"exp",a)},expression:"props.row.exp"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:t.row.exp,callback:function(a){e.$set(t.row,"exp",a)},expression:"props.row.exp"}})],1)],1),a("q-td",{key:"price",attrs:{props:t}},[e._v("\n                "+e._s(t.row.price)+"\n                "),a("q-popup-edit",{attrs:{title:"Update price",buttons:""},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"props.row.price"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:""},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"props.row.price"}})],1)],1),a("q-td",{key:"quantity_available",attrs:{props:t}},[e._v("\n                "+e._s(t.row.quantity_available)+"\n                "),a("q-popup-edit",{attrs:{title:"Update qty",buttons:""},model:{value:t.row.quantity_available,callback:function(a){e.$set(t.row,"quantity_available",a)},expression:"props.row.quantity_available"}},[a("q-input",{attrs:{type:"number",dense:"",autofocus:""},model:{value:t.row.quantity_available,callback:function(a){e.$set(t.row,"quantity_available",a)},expression:"props.row.quantity_available"}})],1)],1),a("q-td",{key:"location",attrs:{props:t}},[e._v("\n                "+e._s(t.row.location)+"\n                "),a("q-popup-edit",{attrs:{title:"Update location",buttons:""},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"props.row.location"}},[a("q-input",{attrs:{type:"text",dense:"",autofocus:""},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"props.row.location"}})],1)],1),a("q-td",{key:"actions",attrs:{props:t}},[a("q-btn",{attrs:{color:"blue",rounded:"",label:"Update",size:"sm","no-caps":""},on:{click:function(a){return e.editItem(t.row)}}}),a("q-btn",{attrs:{color:"red",rounded:"",label:"Delete",size:"sm","no-caps":""},on:{click:function(a){return e.deleteItem(t.row)}}})],1)],1)]}}])}),a("q-separator"),a("div",{staticClass:"row flex flex-center text-center q-pb-xl q-mt-md"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12"},[a("q-btn",{attrs:{"no-caps":"",size:"xl",rounded:"",outlined:"",color:"teal",icon:"cloud_upload"},on:{click:e.send}})],1)])],1)])])},lt=[],ct=(a("c975"),a("a434"),{name:"UploadManyDrugs",methods:{addRow(){this.editedIndex>-1?Object.assign(this.data[this.editedIndex],this.editedItem):this.data.push(this.editedItem),this.close()},deleteItem(e){const t=this.data.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.data.splice(t,1)},editItem(e){this.editedIndex=this.data.indexOf(e),this.editedItem=Object.assign({},e),this.show_dialog=!0},close(){this.show_dialog=!1,setTimeout((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}),300)},send(){if(0==this.data.length)return void this.$q.notify({message:"You need to fill the table first",color:"secondary"});let e=JSON.parse(localStorage.getItem("user")),t=e.id,a=e.company_name,n=e.cphone;console.log(n);let r=new Xe(t,a,n);console.log(r);let o=this.data.map((e=>(e.quantity_available=parseInt(e.quantity_available),e.exp=parseInt(e.exp),e.price=parseFloat(e.price),e)));r.uploadManyDdrugs(o).then((e=>{this.$q.notify({color:"green-5",textColor:"white",icon:"cloud_done",message:"Drugs uploaded"}),location.reload(),console.log(r)})).catch((e=>{console.log(e),this.$q.notify({color:"secondary",textColor:"white",icon:"sync_problem",message:"Problem occured"})}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} File size too large`})},factoryFunc(e){return new Promise(((e,t)=>{let a=JSON.parse(localStorage.getItem("user"));e({url:`${M["a"]}/upload`,method:"POST",headers:[{name:"Content-Type",value:"application/json-patch+json"},{name:"Authorization",value:`access_token ${a.accessToken}`}]})}))}},data(){return{show_dialog:!1,editedIndex:-1,editedItem:{name:"",description:"",brand:"",batch_no:"",quantity_available:0,price:0,location:"",exp:0},defaultItem:{name:"",description:"",brand:"",batch_no:"",quantity_available:10,price:50,location:"",exp:1},columns:[{name:"name",required:!0,label:"Name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"description",align:"center",label:"Description",field:"description"},{name:"brand",label:"Brand",field:"brand",sortable:!0,style:"width: 10px"},{name:"batch_no",label:"Batch No",field:"batch_no"},{name:"quantity_available",label:"Quantity Available",field:"quantity_available"},{name:"price",label:"Price ",field:"price"},{name:"location",label:"Location ",field:"location"},{name:"exp",label:"Months before expiry ",field:"exp"},{name:"actions",label:"Action",field:"actions"}],data:[]}}}),ut=ct,dt=a("ee89"),pt=Object(p["a"])(ut,it,lt,!1,null,null,null),mt=pt.exports;N()(pt,"components",{QTable:tt["a"],QBtn:P["a"],QDialog:be["a"],QCard:x["a"],QCardSection:k["a"],QInput:z["a"],QUploader:dt["a"],QCardActions:fe["a"],QTr:at["a"],QTd:nt["a"],QPopupEdit:rt["a"],QSeparator:$["a"]}),N()(pt,"directives",{ClosePopup:ge["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{reveal:"",elevated:"","height-hint":"98"}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),a("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[e._v("Welcome, "+e._s(e.myname))]),e.loggedIn?a("q-btn",{staticClass:"absolute-right",attrs:{flat:"","icon-right":"account_circle",label:"Logout","no-caps":""},on:{click:e.logout}}):a("q-btn",{staticClass:"absolute-right",attrs:{to:"/login",flat:"","icon-right":"account_circle",label:"Login","no-caps":""}})],1)],1),a("q-footer",[a("q-tabs",e._l(e.navs,(function(e,t){return a("q-route-tab",{key:t,attrs:{"no-caps":"",to:e.to,icon:e.icon,label:e.label}})})),1),a("div",{staticClass:"col text-center q-mt-md"},[a("p",[e._v("Copywright © 2020 by Adel inc.")])])],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-primary",breakpoint:767,width:250},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("q-list",{attrs:{dark:""}},[a("q-item-label",{attrs:{header:""}},[e._v("Navigation")]),e._l(e.navs,(function(t,n){return a("q-item",{key:n,staticClass:"text-grey-4",attrs:{exact:"",clickable:"",to:t.to}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label))])],1)],1)}))],2)],1),a("q-page-container",{staticClass:"bg-grey-1"},[a("router-view")],1)],1)},ht=[],ft={data(){return{left:!1,leftDrawerOpen:this.$q.platform.is.desktop,copystyle:{"text-align":"center"},navs:[{label:"Home",icon:"admin_panel_settings",to:"/boss"},{label:"Unverified Users",icon:"people",to:"/boss/sendUnverifiedJuns"},{label:"Unverified Contributors",icon:"people_alt",to:"/boss/sendUnverifiedSens"},{label:"My Drugs",icon:"list",to:"/contributor"},{label:"Upload Many",icon:"backup",to:"/contributor/uploadManyDrugs"},{label:"Search",icon:"search",to:"/user/search"}]}},computed:{loggedIn:function(){let e=JSON.parse(localStorage.getItem("user"));return null!==e},myname:function(){return JSON.parse(localStorage.getItem("user")).name}},methods:{logout:function(){this.$store.dispatch(`newauth/${Oe["b"]}`).then((()=>{this.$router.push("/login")}))}}},gt=ft,yt=Object(p["a"])(gt,bt,ht,!1,null,null,null),vt=yt.exports;N()(yt,"components",{QLayout:Ue["a"],QHeader:De["a"],QToolbar:je["a"],QBtn:P["a"],QToolbarTitle:Me["a"],QFooter:Ae["a"],QTabs:C["a"],QRouteTab:Ye["a"],QDrawer:He["a"],QList:we["a"],QItemLabel:Ce["a"],QItem:xe["a"],QItemSection:ke["a"],QIcon:F["a"],QPageContainer:Le["a"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{attrs:{classs:"absolute-center"}},[a("h1",{staticClass:"text-center"},[e._v("Welcome "+e._s(e.myname))])])])},_t=[],wt={name:"BossHome",data(){return{}},methods:{logout:function(){this.$store.dispatch(AUTH_LOGOUT).then((()=>{this.$router.push("/login")}))}},computed:{myname:function(){return JSON.parse(localStorage.getItem("user")).name}}},xt=wt,kt=Object(p["a"])(xt,qt,_t,!1,null,null,null),Ct=kt.exports;N()(kt,"components",{QPage:_["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{title:"Unverified Users",data:e.data,columns:e.columns,"row-key":"id","selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,"no-data-label":"You have no unverified users"},on:{"update:selected":function(t){e.selected=t}}}),a("div",{staticClass:"q-mt-md"},[a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",ripple:{color:"primary"},color:"secondary",label:"Verify"},on:{click:e.verify}})],1)],1)])},$t=[];a("5db7"),a("73d9");class It{static getUnverifiedJuniors(){return M["b"].get("api/sendUnverifiedJuniors",{headers:le()})}static getUnverifiedSeniors(){return M["b"].get("api/sendUnverifiedSeniors",{headers:le()})}static verifyManyJuniors(e){M["b"].put("api/verifyManyJuniors",e,{headers:le()})}static verifyManySeniors(e){M["b"].put("api/verifyManySeniors",e,{headers:le()})}}var Qt=a("2ef0"),Pt=a.n(Qt),Ot={data(){return{selected:[],columns:[{name:"name",required:!0,label:"Name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,classes:"-gbgrey-2 ellipsis",headerClasses:"bg-primary text-white"},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"company_name",label:"Company Name",field:"company_name",sortable:!0},{name:"address",label:"Address",field:"address"},{name:"practice_area",label:"Practice Area",field:"practice_area"},{name:"phone",label:"Phone",field:"phone"}],data:[]}},created(){It.getUnverifiedJuniors().then((e=>{this.data=e.data,console.log(this.data)}))},methods:{getStringsToVerify(){return Pt.a.flatMap(this.selected,(function(e){return e.id}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.data.length}`},verify(){It.verifyManyJuniors(this.getStringsToVerify()),this.$q.notify({message:"All verified",color:"primary",color:"green-4",textColor:"white",icon:"cloud_done"}),location.reload()}}},Nt=Ot,Tt=Object(p["a"])(Nt,St,$t,!1,null,null,null),Ut=Tt.exports;N()(Tt,"components",{QPage:_["a"],QTable:tt["a"],QBtn:P["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-pa-md"},[a("q-table",{attrs:{title:"Unverified Contributors",data:e.data,columns:e.columns,"row-key":"id","selected-rows-label":e.getSelectedString,selection:"multiple",selected:e.selected,"no-data-label":"You have no unverified Contributors"},on:{"update:selected":function(t){e.selected=t}}}),a("div",{staticClass:"q-mt-md"},[a("q-btn",{attrs:{"no-caps":"",flat:"",rounded:"",ripple:{color:"primary"},color:"secondary",label:"Verify"},on:{click:e.verify}})],1)],1)])},jt=[],Mt={data(){return{selected:[],columns:[{name:"name",required:!0,label:"Name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,classes:"bg-grey-2 ellipsis",headerClasses:"bg-primary text-white"},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"company_name",label:"Company Name",field:"company_name",sortable:!0},{name:"address",label:"Address",field:"address"},{name:"practice_area",label:"Practice Area",field:"practice_area"},{name:"phone",label:"Phone",field:"phone"}],data:[]}},created(){It.getUnverifiedSeniors().then((e=>{this.data=e.data,console.log(this.data)}))},methods:{getStringsToVerify(){return Pt.a.flatMap(this.selected,(function(e){return e.id}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.data.length}`},verify(){It.verifyManySeniors(this.getStringsToVerify()),this.$q.notify({message:"All verified",color:"primary",color:"green-4",textColor:"white",icon:"cloud_done"}),location.reload()}}},Lt=Mt,At=Object(p["a"])(Lt,Dt,jt,!1,null,null,null),Et=At.exports;N()(At,"components",{QPage:_["a"],QTable:tt["a"],QBtn:P["a"]});const Rt=(e,t,a)=>{let n=JSON.parse(localStorage.getItem("user"));if(n)return""!==n.accessToken?void a():void a("/login");a("/login")},Jt=(e,t,a)=>{let n=JSON.parse(localStorage.getItem("user"));if(n)return"boss"===n.role?void a():"senior"===n.role?void a("/contributor"):void a("/user/search");a("/login")},Bt=(e,t,a)=>{let n=JSON.parse(localStorage.getItem("user"));if(n)return"boss"===n.role||"senior"===n.role?void a():void a("/user/search");a("/login")},zt=[{path:"/",component:()=>a.e(3).then(a.bind(null,"713b")),children:[{path:"",name:"Home",component:U},{path:"register_user",name:"UserReg",component:Y},{path:"register_contributor",name:"ContributorReg",component:Z},{path:"login",name:"Login",component:()=>a.e(2).then(a.bind(null,"a67d"))}]},{path:"/boss",component:vt,children:[{path:"",name:"BossHome",component:Ct},{path:"sendUnverifiedJuns",name:"SendUnverifiedJuns",component:Ut},{path:"sendUnverifiedSens",name:"SendUnverifiedSens",component:Et}],beforeEnter:Jt},{path:"/user",component:Re,children:[{path:"search",name:"Search",component:oe},{path:"search/:query",name:"SearchResults",component:Ie}],beforeEnter:Rt},{path:"/contributor",component:We,children:[{path:"",name:"/MyDrugs",component:st},{path:"uploadManyDrugs",name:"UploadMany",component:mt}],beforeEnter:Bt},{path:"*",component:()=>a.e(4).then(a.bind(null,"e51e"))}];var Ft=zt;n["a"].use(f["a"]);var Ht=function(){const e=new f["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Ft,mode:"hash",base:""});return e},Yt=async function(){const e="function"===typeof h["a"]?await Object(h["a"])({Vue:n["a"]}):h["a"],t="function"===typeof Ht?await Ht({Vue:n["a"],store:e}):Ht;e.$router=t;const a={router:t,store:e,render:e=>e(b),el:"#q-app"};return{app:a,store:e,router:t}},Vt=a("9483");Object(Vt["a"])("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),n["a"].prototype.$axios=E.a,/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e(0).then(a.t.bind(null,"a0db",7));const Wt="";async function Gt(){const{app:e,store:t,router:a}=await Yt();let r=!1;const o=e=>{r=!0;const t=Object(e)===e?a.resolve(e).route.fullPath:e;window.location.href=t},s=window.location.href.replace(window.location.origin,""),i=[void 0];for(let c=0;!1===r&&c<i.length;c++)if("function"===typeof i[c])try{await i[c]({app:e,router:a,store:t,Vue:n["a"],ssrContext:null,redirect:o,urlPath:s,publicPath:Wt})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new n["a"](e)}Gt()},"31cd":function(e,t,a){},4360:function(e,t,a){"use strict";var n=a("2b0e"),r=a("2f62"),o=(a("e6cf"),a("d017")),s=a("bc3a"),i=a.n(s),l=a("6d46");const c=`${l["a"]}api/no_auth/login`,u=!0,d={user:JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):null,status:"",loggedIn:!1,role:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).role:"",hasLoadedOnce:!1},p={isIn:e=>e.loggedIn,authStatus:e=>e.status,id:e=>e.user.id,company_name:e=>e.user.company_name,loggedIn:e=>e.loggedIn,isUser:e=>"junior"===e.user.role,isContributor:e=>"senior"===e.user.role,isBoss:e=>"boss"===e.user.role},m={[o["c"]]:({commit:e},t)=>new Promise(((a,n)=>{e(o["c"]),i()({url:c,data:t,method:"POST"}).then((n=>{const r=n.data;console.log(r),localStorage.setItem("user",JSON.stringify(r)),e(o["d"],t),a(n)})).catch((t=>{e(o["a"],t),console.log(t),console.log("shit happened"),localStorage.removeItem("user"),n(t)}))})),[o["b"]]:({commit:e})=>new Promise((t=>{e(o["b"]),localStorage.removeItem("user"),t()}))},b={[o["c"]]:e=>{e.status="loading"},[o["d"]]:e=>{e.status="success",e.loggedIn=!0,e.hasLoadedOnce=!0},[o["a"]]:e=>{e.status="error",e.hasLoadedOnce=!0,e.loggedIn=!1,e.user.role="",e.user.id="",e.user.company_name=""},[o["b"]]:e=>{e.user.accessToken="",localStorage.removeItem("user")}};var h={namespaced:u,state:d,getters:p,actions:m,mutations:b};let f=null;n["a"].use(r["a"]),n["a"].config.devtools=!0;t["a"]=function(){const e=new r["a"].Store({namespaced:!0,name:"global",modules:{newauth:h},strict:!1});return f=e,e}},"6d46":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a("bc3a"),r=a.n(n);const o="https://adel-pcruq.ondigitalocean.app:8080/",s=r.a.create({baseURL:o})},b973:function(e,t,a){},d017:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));const n="AUTH_REQUEST",r="AUTH_SUCCESS",o="AUTH_ERROR",s="AUTH_LOGOUT"}});